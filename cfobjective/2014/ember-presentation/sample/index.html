<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>cf.Objective(2014)</title>
        <link rel="stylesheet" href="assets/style.css">
        <script src="lib/jquery.min.js"></script>
        <script src="lib/handlebars-v1.3.0.js"></script>
        <script src="lib/ember.js"></script>
        <script src="lib/ember-data.js"></script>
    </head>
    <body>
        
        <script type="text/x-handlebars">
            <header>
                <h1> Welcome to cf.Objective (2014)</h1>
            </header>
            <nav>
                <ul>
                    <li class="nav-item">{{#link-to 'sessions'}}Home{{/link-to}}</li>
                    <li class="nav-item">{{#link-to 'speakers'}}Speakers{{/link-to}}</li>
                    <li class="nav-item">{{#link-to 'sessions.add'}}Add Session{{/link-to}}</li>
                </ul> 
            </nav>
            <div class="content">
                {{outlet}}
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="session">
            <h2>
                {{model.name}}{{#if model.going}}&nbsp;(Going){{/if}}
            </h2>
            <p>{{description}}</p>
            <button {{action 'going' this}}>I'm {{#if going}}Not{{/if}} Going</button>
            {{speaker-bio name=speaker.fullName bio=speaker.bio}}
        </script>

        <script type="text/x-handlebars" data-template-name="sessions/index">
            <div class="attending-sessions">
                You are going to <b>{{attending}}</b> sessions.
            </div>
            <ul>
                {{#each item in model}}
                <li class="session-item">{{#link-to 'session' item}}{{item.name}}{{#if item.going}}&nbsp;(Going){{/if}}{{/link-to}}</li>
                {{/each}}
            </ul>
        </script>

        <script type="text/x-handlebars" data-template-name="sessions/add">
            <div>
                <label for="name">Name</label> {{view Ember.TextField value=name}}
            </div>
            <div>
                <label for="description">Description</label> {{view Ember.TextArea value=description}}
            </div>
            <div>
                <label for="speaker">Speaker</label> {{view Ember.Select content=speakers
                                                                         optionLabelPath="content.fullName"
                                                                         optionValuePath="content.id"
                                                                         prompt="Select Speaker..."
                                                                         selection=speaker }}
            </div>
            <div>
                <label for="track">Track</label> {{view Ember.Select content=tracks
                                                                     selection=track
                                                                     prompt="Select Track..."  }}
            </div>
            <button {{action 'addSession'}}>Add Session</button>
            <section class="session-info">
                <h1>{{name}}</h1>
                <p>{{description}}</p>
                <p>{{track}}</p>
                <p>{{speaker.fullName}}</p>
            </section>
        </script>

        <script type="text/x-handlebars" data-template-name="speakers">
            <h1>Speakers</h1>
            {{#each item in model}}
            {{#with item}}
                {{speaker-bio name=fullName bio=bio}}
            {{/with}}
            {{/each}}
        </script>

        <script type="text/x-handlebars" data-template-name="components/speaker-bio">
            <article class="speaker-bio">
                <h1 class="speaker-name">{{name}}</h1>
                <section class="speaker-description">
                    {{bio}}
                </section>
            </article>
        </script>

        <!-- App source files -->
        <script src="src/app.js"></script>
        <script src="src/models/speaker-model.js"></script>
        <script src="src/models/session-model.js"></script>
        <script src="src/routes/session-route.js"></script>
        <script src="src/routes/sessions-route.js"></script>
        <script src="src/routes/sessions-add-route.js"></script>
        <script src="src/routes/speaker-route.js"></script>
        <script src="src/routes/speakers-route.js"></script>
        <script src="src/controllers/session-controller.js"></script>
        <script src="src/controllers/sessions-controller.js"></script>
        <script src="src/controllers/sessions-add-controller.js"></script>
    </body>
</html>
